<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <script type="application/javascript">

  let canvas=null  // we give this a value in the init method
  let ctx=null

  function init(){
    // initialize canvas and ctx after the page is loaded
    canvas = document.getElementById('canvas')
    ctx = canvas.getContext('2d')
    drawBackground()
    canvas.addEventListener('click',mouseClick,false)
    canvas.addEventListener('mousemove',mouseMove,false)
  }

  function mouseClick(event){
    console.dir(event)
    x = event.offsetX
    y = event.offsetY
    //
    if (event.altKey){
      drawCircle(x,y,10)
      fillCircle(x,y,10)
    } else {
       ctx.fillStyle="red"
       drawV(x,y)
    }
  }
  if (event.shiftKey){
    drawStar(x,y)
    fillStar(x,y)
  } else {
     ctx.fillStyle="red"
     drawV(x,y)
 }

  function drawV(x,y){
    ctx.beginPath()
    ctx.moveTo(x,y)
    ctx.lineTo(x+150,y-200)
    ctx.lineTo(x,y-25)
    ctx.lineTo(x,y)
    ctx.lineTo(x-150,y-200)
    ctx.lineTo(x,y-25)
    ctx.fill()
  }


  function mouseMove(event){
    //console.log(event.buttons)
    ctx.fillStyle="rgba(8,10,75,0.1)"
    const x = event.offsetX
    const y = event.offsetY
    if (event.buttons==1){  // see if the mouse button is pressed
      ctx.fillRect(x,y,10,30)
      ctx.fillRect(x-15,y,30,3)
      ctx.strokeStyle="rgba(250,0,0,30)"
      drawCircle(x,y,50)
      ctx.fillStyle = "blue"

    }
  }





  function drawCircle(x,y,r){
    // draw a circle centered at (x,y) with radius r
    ctx.beginPath();
    ctx.arc(x,y,r,0,2*Math.PI,true)
    ctx.stroke()
  }

  function fillCircle(x,y,r){
    // draw a circle centered at (x,y) with radius r
    ctx.beginPath();
    ctx.arc(x,y,r,0,2*Math.PI,true)
    ctx.fill()
    ctx.fillCircle = "blue"
  }

  function drawStar(){
    var alpha = (2 * Math.PI) / 10;
var radius = 12;
var starXY = [100,100]

canvasCtx.beginPath();

for(var i = 11; i != 0; i--)
{
    var r = radius*(i % 2 + 1)/2;
    var omega = alpha * i;
    canvasCtx.lineTo((r * Math.sin(omega)) + starXY[0], (r * Math.cos(omega)) + starXY[1]);
}
canvasCtx.closePath();
canvasCtx.fillStyle = "#000";
canvasCtx.fill();
  }

  </script>
 </head>
 <body onload="init();">
   <h1>MouseDemo interactive javascript canvas for 11/20</h1>
   <br>

   <button onclick="drawBackground()">Clear</button>


   <canvas style="float:left;margin-right:30px"
           id="canvas" width="1000" height="1000">
   </canvas>

   <script src="drawgrid.js"></script>
 </body>
</html>
